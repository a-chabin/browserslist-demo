const y=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}};y();const B="Google_Chrome#Android",S="Firefox_for_Android",C="Tencent_QQ",k="UC_Browser",I="List_of_features_in_Android#AndroidBrowser",M="Baidu_Browser",q="Baidu_Browser",A="Google_Chrome",T="Microsoft_Edge",x="Mozilla_Firefox",H="Internet_Explorer",O="Internet_Explorer_Mobile",F="Safari_(web_browser)",P="KaiOS",D="Node.js",$="Opera_Mini",j="Opera_Mobile",K="Opera_(web_browser)",N="Safari_(web_browser)",U="Samsung_Internet",V={and_chr:B,and_ff:S,and_qq:C,and_uc:k,android:I,baidu:M,bb:q,chrome:A,edge:T,firefox:x,ie:H,ie_mob:O,ios_saf:F,kaios:P,node:D,op_mini:$,op_mob:j,opera:K,safari:N,samsung:U},G="https://en.wikipedia.org/wiki/";function Q(t){const r=document.getElementById("global-coverage-bar");r.innerHTML="",t.forEach(s=>{const n=1-1/s.coverage,e=document.createElement("li");e.classList.add("BrowsersStat__globalCoverageBarItem"),e.setAttribute("style",`
    --proportion: ${s.coverage};
    --alpha: ${n};
    `),s.coverage>10&&(e.innerHTML=s.name,e.classList.add("BrowsersStat__globalCoverageBarItem--texted")),r.appendChild(e)})}const b=document.querySelector(".BrowsersStat__placeholder");function R(){return b.classList.contains("BrowsersStat__placeholder--hidden")||(document.querySelector(".BrowsersStat__stat").classList.remove("BrowsersStat__stat--hidden"),b.classList.add("BrowsersStat__placeholder--hidden")),!0}function W(t){return G+V[t]}function w(t){const r=e=>e+"%",s=e=>{const o=Math.log(1+e)*100/Math.log(101);return o===0?"0":o>5?o+"%":"1px"},n=document.createElement("td");return n.classList.add("BrowsersStat__td"),n.innerHTML=r(t),n.classList.add("BrowsersStat__td--coverage"),n.setAttribute("style",`--c:${s(t)}`),n}function L(t){const r=document.createElement("td");return r.classList.add("BrowsersStat__td"),r.innerHTML=t,r}function z(t){const r=document.getElementById("browsers-stats"),s=document.createElement("table");s.classList.add("BrowsersStat__table"),t.forEach(({id:n,name:e,versions:o})=>{const a=Object.entries(o).sort(([,l],[,u])=>u-l).map(([l,u])=>({version:l,coverage:u})),g=document.createElement("tbody"),c=document.createElement("tr");c.classList.add(".BrowsersStat_tr");const m=document.createElement("td");m.classList.add("BrowsersStat__td");const p=document.createElement("img");p.classList.add("BrowsersStat__icon"),p.src=`/assets/browser_logos/${n}.svg`,m.setAttribute("rowspan",a.length),p.setAttribute("role","presentation"),m.appendChild(p),c.appendChild(m);const _=document.createElement("td");_.classList.add("BrowsersStat__td");const d=document.createElement("a");d.classList.add("Link"),d.href=W(n),d.rel="noreferrer noopener",d.target="_blank",_.setAttribute("rowspan",a.length),d.innerHTML=e,_.appendChild(d),c.appendChild(_),c.appendChild(L(a[0].version)),c.appendChild(w(a[0].coverage)),g.appendChild(c),a.slice(1).forEach(l=>{const{version:u,coverage:v}=l,h=document.createElement("tr");h.appendChild(L(u)),h.appendChild(w(v)),g.appendChild(h)}),s.appendChild(g)}),r.innerHTML="",r.appendChild(s)}function J({browserslist:t,caniuse:r}){const s=document.getElementById("can_i_use_version");s.innerHTML=r;const n=document.getElementById("browsers_list_version");n.innerHTML=t}const X="/api/browsers",i=document.getElementById("query_form"),f=document.getElementById("query_text_area"),Y=document.getElementById("error_message");function Z(){i.addEventListener("submit",async t=>{if(!i.checkValidity())return;const s=new FormData(i).get("query");t.preventDefault(),i.classList.add("Form--justSend"),f.addEventListener("input",()=>{i.classList.remove("Form--justSend")},{once:!0}),ee(s)}),f.addEventListener("keypress",t=>{t.keyCode===13&&!t.shiftKey&&(t.preventDefault(),i.dispatchEvent(new Event("submit")))})}Z();async function ee(t){let r;try{r=await fetch(`${X}?q=${encodeURIComponent(t)}`)}catch{return!1}const s=await r.json();if(!r.ok)return s.message==="Custom usage statistics was not provided"?(E(`This website does not support in my stats queries yet. Run Browserslist
 <a href="https://github.com/browserslist/browserslist#custom-usage-data" class="Link">locally</a>.`),!1):(E(s.message),!1);const{browsers:n,versions:e}=s;return R(),z(n),Q(n),J(e),!0}function E(t){Y.innerHTML=t,i.classList.add("Form--serverError"),f.addEventListener("input",()=>{i.classList.remove("Form--serverError")},{once:!0})}function te(){document.querySelectorAll("a[data-query]").forEach(r=>{r.addEventListener("click",s=>{s.preventDefault(),f.value=r.getAttribute("data-query"),i.dispatchEvent(new Event("submit"))})})}te();
